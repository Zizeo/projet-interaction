version: "3.1"

slots:
  player_hp:
    type: float
    min_value: -100.0
    max_value:  100.0
    initial_value: 100
    mappings:
      - type: custom
  enemy_hp:
    type: float
    min_value: -100.0
    max_value:  100.0
    initial_value: 100
    mappings:
      - type: custom
  player_action:
    type: text
    mappings:
      - type: custom
  enemy_action:
    type: text
    mappings:
      - type: custom
  player_force:
    type: float
    mappings:
      - type: custom
  player_intelligence:
    type: float
    mappings:
      - type: custom
  player_agility:
    type: float
    mappings:
      - type: custom
  player_level:
    type: float
    min_value: -100.0
    max_value:  100.0
    initial_value: 1
    mappings:
      - type: custom
  combat_state:
    type: text
    initial_value: "ended"
    mappings:
      - type: custom

intents:
  - attack:
    use_entities: true
  - use_item:
    use_entities: true
  - flee:
    use_entities: true
  - start_combat:
    use_entities: true


actions:
  - action_combat_turn
  - action_combat_start
  - action_combat_end
  - action_player_choice
  - action_set_player_action


responses:
  utter_combat_start:
    - text: "Le combat commence ! Vous avez {player_hp} points de vie. L'ennemi a {enemy_hp} points de vie."
  utter_player_choice:
    - text: "Que voulez-vous faire ? (attaquer, défendre, utiliser un objet)"
  utter_victory:
    - text: "Vous avez vaincu l'ennemi ! Félicitations !"
  utter_defeat:
    - text: "Vous avez été vaincu. Mieux vaut vous entraîner davantage !"
  utter_enemy_turn:
    - text: "L'ennemi attaque ! Il vous reste {player_hp} points de vie."

forms:
  combat_form:
    required_slots:
      - player_action


